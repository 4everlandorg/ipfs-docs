name: Check Markdown links for modified files

on: [pull_request]

jobs:
  markdown-link-check:
    runs-on: ubuntu-latest
    steps:
    - name: link-check
    - uses: actions/checkout@master
    - uses: gaurav-nelson/github-action-markdown-link-check@v1
      run: echo "{out}" >> .github/workflows/link-check-summary.md
      with:
        config-file: 'mlc_pull_req_config.json'
        check-modified-files-only: 'yes'
        use-verbose-mode: 'yes'
        base-branch: 'main'
        continue-on-error: true
        file: .github/workflows/link-check-summary.md
        vars: |
          message: markdown-link-check found 
          out: ${{ steps.link-check.outputs }}